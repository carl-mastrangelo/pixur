syntax = "proto3";

package pixur;

option go_package = "schema";

message Pic {
  int64 pic_id = 1;
  int64 file_size = 2;
  
  enum Mime {
    UNKNOWN = 0;
    JPEG = 1;
    GIF = 2;
    PNG = 3;
    WEBM = 4;
  }
  
  Mime mime = 3;
  int64 width = 4;
  int64 height = 5;
  bytes sha256_hash = 9;

  Timestamp created_timestamp = 10;
  Timestamp modified_timestamp = 11;
}

message Tag {
  int64 tag_id = 1;
  string name = 2;
  int64 usage_count = 3;
  Timestamp created_timestamp = 6;
  Timestamp modified_timestamp = 7;
}

message PicTag {
  int64 pic_id = 1;
  int64 tag_id = 2;
  string name = 3;
  Timestamp created_timestamp = 6;
  Timestamp modified_timestamp = 7;
}

// This is the same as google.protobuf.Timestamp, until it becomes standard.
message Timestamp {
  int64 seconds = 1;

  int32 nanos = 2;
}